---
layout:     post
title:      基于CDN平台的DDoS攻击防护
category: opinion
description: 安全牛在线技术讲座第七期——基于CDN平台的DDoS攻击防护
---

## DDoS攻击趋势

* 每月几百次
* 超过1T，
* 全年瞬时超过97T
* UDP攻击和SYN攻击是主

> UDP多使用大包攻击
> syn多使用小包：三次握手，包小量大

## 如何防御

### 防火墙？

* 功能太强，性能不够好，量大无法应对

### ADS

* 带宽问题，攻击30>公司20，带宽成本

###  US

* PROGRAM

页面静态化
减少页面刷新

### WHY

攻击游击

## CDN

内容分发网络

* 隐藏source地址，外围简历保护墙
* 监控结点可用性，提高稳定性，风险从本地-》云端
* ISP,近源清洗
* CDN冗余带宽清洗攻击
* IDC 清洗，专业防护
* APP细化防护

#### PRO

* 平时加速，战时防御
* 冗余带宽和资源进行防御
* 专业运维

## 云加速DDoS防护方案

防御体系

### 多点防御统筹

### 混合型攻击

### 攻击点分散

### 被攻击服务站点多

---

### 分散的网络环境

* 国内

> 小站点平时加速
> 大站点战时防御，T级
> 防不住扔到国外Global结点

* 国外

> 公司合作
> 成本低

### 统一决策系统

* 实时统计全球结点
* 蜜罐
* 威胁情报中心

> 合作共享
> 黑名单

### 全能监控设备

核心交换机进行镜像

* 性能分析
* 网络问题定位
* 流量组成分析

#### TCPFLOW+

#### 攻击发现策略

* 四层
* 分析线上流量比例

> syn > 10:syn flood,noaml:3
> udp,icmp > 5
> rst > 10 : ack flood

及早发现攻击

#### 传统DNS调度

* noaml cdn : 50g
* 调度: ttl : time to live

DNS缓存 -> 本地DNS -> server DNS

> 修改权威dns
> 等待本地缓存失效
> 等待local dns 缓存失效

会导致失效

#### 无损调度

* 电信网络合作
* 攻击ip在高防结点，改变路由结构，直接牵引流量

#### 多样防护策略

* syn cookie/syn proxy
* safe reset
* syn 重传
* 智能分析

### CC防御

应用层攻击，不在tcp，ip，udp层进行攻击，直接攻击应用层

#### start

* web服务瞬时链接数量急剧增多
* ip数量增多

#### locate

* 部分IP,UA,REFER访问频率非常快
* 请求url单一或规律性明显

#### 出发阶段

* 服务器和客户端相应请求降低
* 服务器性能下降，相应变慢甚至停止

#### 回顾

* IP信誉积累，为下一次防御收集信息

### 手段和难点

* 特征多
* 绕过技术高
* 网络木马攻击
* 突发攻击导致源站直接down

#### 创新防御

* 源站保护

> 不同优先级队列请求源站
> 感知源站响应能力，适当放行

* 结点分析

> 可疑ip
> 被攻击url
> 筛选IP,优先拦截
> 辅助COOKIE



## 致谢

谢谢老板

## References
