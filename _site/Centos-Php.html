<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         Moonsea
    -->
    <meta charset="utf-8" />
    <title>CentOs搭建Php开发环境 | Moonsea's Blog</title>
    <meta name="author" content="Moonsea" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Moonsea's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="https://help.github.com/assets/images/site/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
    
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Moonsea</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/moonsea/" target="_blank" style="margin-left:-5px;"><img src="https://www.icinga.org/wp-content/uploads/2014/07/github_logo.png" alt="" width="25"/></a>
            <a href="http://www.cnblogs.com/moonseazj/" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQpVif04zTTXD3oM8ZSWaJUfxVoiZMb2C9gQQxpdq4AsRxOiU08" alt="" width="25"/></a>
            <a href="Mailto:seainsight@126.com" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTgzheMdNlWeo7lx4-Tj95yGSJ9bHbSasD8A3BIiMFTutf2SasVaQ" alt="" width="25"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/Centos-Php" title="CentOs搭建Php开发环境">CentOs搭建Php开发环境</a></h1>
        <p class="entry-date">2016-03-21</p>
        <h2 id="section">写在前面</h2>

<p>今天需要搭建一个WikiMedia，然后找到了一个目前觉得最高大上的Web FTP，叫<a href="http://www.kalcaddle.com/">KODExplorer</a>,是一个在线版的文件管理器，官方说法支持在线解压缩，支持在线预览，在线编辑等等。</p>

<h2 id="section-1">动手搭建</h2>

<h3 id="apache">安装Apache</h3>

<p>使用 <code>yum</code> 进行安装</p>

<pre><code>sudo yum install httpd httpd-devel 
</code></pre>

<p>安装完成之后，启动<code>apache</code>服务器</p>

<pre><code>sudo systemctl start httpd.service
</code></pre>

<p>除了上面这条命令可以启动<code>apache</code>服务器之外，还可以使用<code>sudo service httpd start</code>,也会重定向到<code>httpd.service</code>.</p>

<p>启动之后，可以使用浏览器访问服务器的<code>IP</code>地址，<code>apache</code>默认端口为<code>80</code>，所以直接<code>http://$IP$</code>就可以了</p>

<h3 id="mysql">安装Mysql</h3>

<p>CentOs 7 系统yum源不自带<code>server</code>端的<code>mysql</code>，所以需要自己从官方下载<a href="http://dev.mysql.com/downloads/repo/yum/">Repository</a>,进入页面之后选择自己相应的版本.我的服务器是<code>CentOs 7</code>,如果和我的机器相同，也可以直接使用下面的命令进行下载安装</p>

<pre><code>wget http://repo.mysql.com//mysql57-community-release-el7-7.noarch.rpm
sudo rpm -ivh mysql57-community-release-el7-7.noarch.rpm
sudo yum install mysql-community-server mysql mysql-devel
</code></pre>

<p>启动<code>mysql</code></p>

<pre><code>sudo systemctl start mysqld.service
</code></pre>

<p>这时候如果你尝试登录<code>mysql -uroot -p</code>的话，会发现无法登录，而且你也不知道密码，因为<code>mysql</code>默认是没有密码的，这时候需要强制修改密码</p>

<p>首先，关闭<code>mysql</code></p>

<pre><code>sudo service mysqld stop
</code></pre>

<p>刚才说过，和<code>systemctl</code>命令相同，用哪一种方式都行.然后打开<code>my.cnf</code></p>

<pre><code>sudo vi /etc/my.cnf
</code></pre>

<p>在文件中最后一行添加<code>skip-grant-tables</code>,然后<code>:wq</code>保存并退出.之后重启<code>mysql</code></p>

<pre><code>sudo service mysqld restart
</code></pre>

<p>强制登录<code>mysql</code></p>

<pre><code>mysql
</code></pre>

<p>登录之后，分别执行以下命令，修改数据库登录密码为<code>123456</code></p>

<pre><code>use mysql;
update user set authentication_string=password('123456') where user='root';
exit;
</code></pre>

<p>退出之后，再次编辑<code>my.cnf</code>,删除刚才添加的最后一行<code>skip-grant-tables</code>,保存退出，之后重新启动<code>mysql</code></p>

<pre><code>sudo service mysqld restart
</code></pre>

<p>再次登录,输入密码<code>123456</code>就可以正常登录了</p>

<pre><code>msyql -uroot -p
</code></pre>

<h3 id="php">安装Php</h3>

<p>使用<code>yum</code>源进行安装</p>

<pre><code> sudo yum install php php-devel
</code></pre>

<p>重新启动<code>apache</code>，使得<code>php</code>生效</p>

<pre><code>sudo systemctl restart httpd.service
</code></pre>

<p>进入<code>\var\www\html</code>，新建一个测试文件</p>

<pre><code>cd \var\www\html
sudo vi test.php
</code></pre>

<p>文件内容如下：</p>

<pre><code>&lt;?php phpinfo(); ?&gt;
</code></pre>

<p>通过浏览器访问该文件，会得到php版本信息，说明安装成功</p>

<h3 id="php-1">安装php扩展</h3>

<p>使用<code>yum</code>源进行安装</p>

<pre><code>sudo yum install php-mysql php-gd php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring
</code></pre>

<p>重新启动<code>apache</code>，使得安装生效</p>

<pre><code>sudo systemctl restart httpd.service
</code></pre>


        <div id="disqus_thread"></div>
        <script>
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//httpmoonseagithubio.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/Build-Github-Pages">使用 Github 搭建自己的博客</a></li>
        
            <li><a href="/My-Fisrt-Blog">我的第一篇 Blog</a></li>
        
        </ul>

        <h2>Opinion</h2>
        <ul class="artical-list">
        
            <li><a href="/Review-Survey">如何写一篇Survey的Review</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/Ecshop-Problems">Ecshop 开发问题汇总</a></li>
        
            <li><a href="/Centos-Php">CentOs搭建Php开发环境</a></li>
        
            <li><a href="/Nodejs-P2pspider">p2pspider(读写文件和Mongodb版)</a></li>
        
            <li><a href="/CentOs-aria2">CentOs 安装多线程下载工具</a></li>
        
            <li><a href="/Wabacus-Problems">Wabacus 开发问题汇总</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>
    

    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74981935-1', 'auto');
      ga('send', 'pageview');
    </script>

</body>
</html>
