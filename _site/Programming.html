<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         Moonsea
    -->
    <meta charset="utf-8" />
    <title>Amazing Programming | Moonsea's Blog</title>
    <meta name="author" content="Moonsea" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Moonsea's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>

    <!-- mathjax config similar to math.stackexchange -->

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

    <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>


</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Moonsea</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/moonsea/" target="_blank" style="margin-left:-5px;"><img src="https://www.icinga.org/wp-content/uploads/2014/07/github_logo.png" alt="" width="25"/></a>
            <a href="http://www.cnblogs.com/moonseazj/" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQpVif04zTTXD3oM8ZSWaJUfxVoiZMb2C9gQQxpdq4AsRxOiU08" alt="" width="25"/></a>
            <a href="Mailto:seainsight@126.com" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTgzheMdNlWeo7lx4-Tj95yGSJ9bHbSasD8A3BIiMFTutf2SasVaQ" alt="" width="25"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/Programming" title="Amazing Programming">Amazing Programming</a></h1>
        <p class="entry-date">2016-05-12</p>
        <h2 id="一句话交换变量ab">一句话交换变量a,b</h2>

<h3 id="c">C</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a = (a+b) - (b=a)
</code></pre></div></div>

<h3 id="php">PHP</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>list($a,$b) = array($b,$a);
</code></pre></div></div>

<h2 id="python-list交并补">Python list交并补</h2>

<h3 id="交">交</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># method 1 #
print list(set(a).intersection(set(b)))  # a &amp; b

# method 2 #
val = [val for val in a if val in b]
</code></pre></div></div>

<h3 id="并">并</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>print list(set(a).union(set(b)))  # a + b
</code></pre></div></div>

<h3 id="补">补</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>print list(set(b).difference(set(a))) # b-a
</code></pre></div></div>

<h2 id="提交参数输出flag">提交参数输出Flag</h2>

<h3 id="indexphp">index.php</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>

    <span class="nv">$str</span> <span class="o">=</span> <span class="nb">intval</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]);</span>
    <span class="nv">$reg</span> <span class="o">=</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s1">'/\d/is'</span><span class="p">,</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">]);</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">is_numeric</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'id'</span><span class="p">])</span> <span class="k">and</span> <span class="nv">$reg</span> <span class="o">!==</span> <span class="mi">1</span> <span class="k">and</span> <span class="nv">$str</span> <span class="o">===</span> <span class="mi">1</span><span class="p">){</span>
    	<span class="k">echo</span> <span class="s1">'Flag'</span><span class="p">;</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
    	<span class="k">echo</span> <span class="s2">"Img"</span><span class="p">;</span>
    <span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre></div></div>

<h3 id="solution">Solution</h3>

<p>虽然PHP手册中介绍<code class="highlighter-rouge">intval()</code>不能对<code class="highlighter-rouge">array</code>和<code class="highlighter-rouge">object</code>进行整数化，但是通过实践发现<code class="highlighter-rouge">intval()</code>可以将非空数组转成<code class="highlighter-rouge">1</code>，将空数组转成<code class="highlighter-rouge">0</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>index.php?id[]=a
</code></pre></div></div>

<h2 id="python精确除法">Python精确除法</h2>

<p>总是会返回真实的商，不管操作数是整形还是浮点型</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt;from __future__ import division
&gt;&gt;&gt;1/2
0.5
&gt;&gt;&gt;1.0/2.0
0.5
</code></pre></div></div>

    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/dvwa-exec">Command Injection{DVWA}</a></li>
        
            <li><a href="/Terminator">Terminator</a></li>
        
            <li><a href="/Analyse-Trojan">记一次木马的分析</a></li>
        
            <li><a href="/Build-Github-Pages">使用 Github 搭建自己的博客</a></li>
        
            <li><a href="/My-Fisrt-Blog">我的第一篇 Blog</a></li>
        
        </ul>

        <h2>Opinion</h2>
        <ul class="artical-list">
        
            <li><a href="/Malcode-ngram-opcode-classify">恶意代码分类训练预测篇</a></li>
        
            <li><a href="/Malcode-ngram-opcode">恶意代码分类数据篇</a></li>
        
            <li><a href="/Malware-Classification">恶意代码分类</a></li>
        
            <li><a href="/Database">数据库常见问题整理</a></li>
        
            <li><a href="/Github-PHP">Github Disclosure -- PHP</a></li>
        
            <li><a href="/Github-disclosure">Github Disclosure</a></li>
        
            <li><a href="/KCon-West">KCon West西部黑客大会</a></li>
        
            <li><a href="/Programming">Amazing Programming</a></li>
        
            <li><a href="/CDN-DDoS">基于CDN平台的DDoS攻击防护</a></li>
        
            <li><a href="/p7-bohara">Clustering Monitor Data</a></li>
        
            <li><a href="/English-Writing">English Writing</a></li>
        
            <li><a href="/Review-Survey">如何写一篇Survey的Review</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/Reading">Reading 开发问题汇总</a></li>
        
            <li><a href="/Baby">Baby 开发问题汇总</a></li>
        
            <li><a href="/Sports">Sports 开发问题汇总</a></li>
        
            <li><a href="/Ecshop-Problems">Ecshop 开发问题汇总</a></li>
        
            <li><a href="/Centos-Php">CentOs搭建Php开发环境</a></li>
        
            <li><a href="/Nodejs-P2pspider">p2pspider(读写文件和Mongodb版)</a></li>
        
            <li><a href="/CentOs-aria2">CentOs 安装多线程下载工具</a></li>
        
            <li><a href="/Wabacus-Problems">Wabacus 开发问题汇总</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>
<!-- <a id="scrollTop" href="javascript:scroll(0,0)">&#8657;</a> -->



    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74981935-1', 'auto');
      ga('send', 'pageview');
    </script>

</body>
</html>
