<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         Moonsea
    -->
    <meta charset="utf-8" />
    <title>Sports 开发问题汇总 | Moonsea's Blog</title>
    <meta name="author" content="Moonsea" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="Moonsea's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>

    <!-- mathjax config similar to math.stackexchange -->

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        });
    </script>

    <script type="text/x-mathjax-config">
        MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                all[i].SourceElement().parentNode.className += ' has-jax';
            }
        });
    </script>

    <script type="text/javascript"
       src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>


</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">Moonsea</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="https://github.com/moonsea/" target="_blank" style="margin-left:-5px;"><img src="https://www.icinga.org/wp-content/uploads/2014/07/github_logo.png" alt="" width="25"/></a>
            <a href="http://www.cnblogs.com/moonseazj/" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQpVif04zTTXD3oM8ZSWaJUfxVoiZMb2C9gQQxpdq4AsRxOiU08" alt="" width="25"/></a>
            <a href="Mailto:seainsight@126.com" target="_blank" style="margin-left:5px;"><img src="https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTgzheMdNlWeo7lx4-Tj95yGSJ9bHbSasD8A3BIiMFTutf2SasVaQ" alt="" width="25"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/Sports" title="Sports 开发问题汇总">Sports 开发问题汇总</a></h1>
        <p class="entry-date">2016-05-30</p>
        <h2 id="section">写在前面</h2>

<p>本文记录在Sports开发和使用过程中遇到的各种问题以及解决方法</p>

<h2 id="ezsql"><code class="highlighter-rouge">ezsql</code>语法说明</h2>

<p><code class="highlighter-rouge">$db-&gt;get_results</code> – <code class="highlighter-rouge">从数据库中读取数据集</code> <br />
<code class="highlighter-rouge">$db-&gt;get_row</code> – <code class="highlighter-rouge">从数据库中读取一行数据</code><br />
<code class="highlighter-rouge">$db-&gt;get_col</code> – <code class="highlighter-rouge">从数据库中读取一列指定的数据集</code><br />
<code class="highlighter-rouge">$db-&gt;get_var</code> – <code class="highlighter-rouge">从数据库的数据集中读取一个值</code><br />
<code class="highlighter-rouge">$db-&gt;query</code> – <code class="highlighter-rouge">执行一条SQL语句</code><br />
<code class="highlighter-rouge">$db-&gt;debug</code> – <code class="highlighter-rouge">打印最后执行的SQL语句及其返回的结果</code><br />
<code class="highlighter-rouge">$db-&gt;vardump</code> – <code class="highlighter-rouge">打印变量的结构及其内容</code><br />
<code class="highlighter-rouge">$db-&gt;select</code> – <code class="highlighter-rouge">选择一个新数据库</code><br />
<code class="highlighter-rouge">$db-&gt;get_col_info</code> – <code class="highlighter-rouge">获取列的信息</code><br />
<code class="highlighter-rouge">$db-&gt;hide_errors</code> – <code class="highlighter-rouge">隐藏错误</code><br />
<code class="highlighter-rouge">$db-&gt;show_errors</code> – <code class="highlighter-rouge">显示错误</code></p>

<h2 id="section-1">数据库字段说明</h2>

<h3 id="apply"><em>apply</em>表</h3>
<hr />

<p><code class="highlighter-rouge">apply</code>: <code class="highlighter-rouge">applyt_id</code>字段:<code class="highlighter-rouge">申请id</code>:INT 32,自增,主键<br />
<code class="highlighter-rouge">apply</code>: <code class="highlighter-rouge">user_id</code>字段:<code class="highlighter-rouge">申请人id</code>:INT 32,取自<code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">apply</code>: <code class="highlighter-rouge">user_img</code>字段:<code class="highlighter-rouge">用户照片</code>:VARCHAR 255<br />
<code class="highlighter-rouge">apply</code>: <code class="highlighter-rouge">card_img</code>字段:<code class="highlighter-rouge">用户身份证照片</code>:VARCHAR 255<br />
<code class="highlighter-rouge">apply</code>: <code class="highlighter-rouge">event</code>字段:<code class="highlighter-rouge">申请项目</code>:<code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">申请教练</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">申请俱乐部</code>:INT 32</p>

<h3 id="video"><em>video</em>表</h3>
<hr />

<p><code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">id</code>字段: <code class="highlighter-rouge">视频id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">name</code>字段: <code class="highlighter-rouge">视频名称</code>: VARCHAR 500<br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">视频上传用户id</code>: INT 32,<code class="highlighter-rouge">user</code> -&gt; <code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">detail</code>字段: <code class="highlighter-rouge">视频详细信息</code>: TEXT<br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">play_count</code>字段: <code class="highlighter-rouge">视频播放次数</code>: VARCHAR 32  <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">praise_count</code>字段: <code class="highlighter-rouge">视频点赞总数</code>: VARCHAR 32 <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">add_time</code>字段: <code class="highlighter-rouge">视频上传时间</code>: VARCHAR 32: UNIXTIMESTAMP <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">last_time</code>字段: <code class="highlighter-rouge">视频最后时间</code>: VARCHAR 32: UNIXTIMESTAMP <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">description</code>字段: <code class="highlighter-rouge">视频简介</code>: VARCHAR 100 <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">source_id</code>字段: <code class="highlighter-rouge">视频来源</code>: INT 32 <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">class</code>字段: <code class="highlighter-rouge">精选视频</code>: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">非精选</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">精选</code>: 默认为<code class="highlighter-rouge">0</code> <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">video_path</code>字段: <code class="highlighter-rouge">视频存放路径</code>: VARCHAR 255 <br />
<code class="highlighter-rouge">video</code>: <code class="highlighter-rouge">video_cover</code>字段: <code class="highlighter-rouge">视频封面</code>: VARCHAR 255</p>

<h3 id="user"><em>user</em>表</h3>
<hr />

<p><code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">用户id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">user_name</code>字段: <code class="highlighter-rouge">用户名称</code>: VARCHAR 100<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">password</code>字段: <code class="highlighter-rouge">用户密码</code>: VARCHAR 500<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">user_desc</code>字段: <code class="highlighter-rouge">用户简介</code>: TEXT<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">medal</code>字段: <code class="highlighter-rouge">用户金牌币</code>: VARCHAR 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">img</code>字段: <code class="highlighter-rouge">用户头像</code>: TEXT<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">champion</code>字段: <code class="highlighter-rouge">用户冠军币</code>: VARCHAR 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">rank</code>字段: <code class="highlighter-rouge">用户等级</code>: VARCHAR 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">role</code>字段: <code class="highlighter-rouge">用户角色</code>: INT 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">sex</code>字段: <code class="highlighter-rouge">用户性别</code>: VARCHAR 32: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">男</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">女</code><br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">birthday</code>字段: <code class="highlighter-rouge">用户生日</code>: VARCHAR 32: UNIXTIMESTAMP<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">location</code>字段: <code class="highlighter-rouge">用户位置</code>: VARCHAR 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">mobile</code>字段: <code class="highlighter-rouge">用户手机</code>: VARCHAR 32<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">is_hot</code>字段: <code class="highlighter-rouge">是否热门</code>: TINYINT 2: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">否</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">是</code>: 后台设置<br />
<code class="highlighter-rouge">user</code>: <code class="highlighter-rouge">game_type</code>字段: <code class="highlighter-rouge">所属领域</code>: VARCHAR 32: <code class="highlighter-rouge">game_type</code>-&gt;<code class="highlighter-rouge">type_id</code>:<code class="highlighter-rouge">乒乓球</code></p>

<p><em>ps</em></p>

<blockquote>
  <p><code class="highlighter-rouge">0</code>: 普通用户,无俱乐部<br />
<code class="highlighter-rouge">1</code>: 专家用户<br />
<code class="highlighter-rouge">2</code>: 俱乐部会员</p>
</blockquote>

<h3 id="role"><em>role</em>表</h3>
<hr />

<p><code class="highlighter-rouge">role</code>: <code class="highlighter-rouge">role_id</code>字段: <code class="highlighter-rouge">角色id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">role</code>: <code class="highlighter-rouge">role_name</code>字段: <code class="highlighter-rouge">角色名称</code>: VARCHAR 100<br />
<code class="highlighter-rouge">role</code>: <code class="highlighter-rouge">remark</code>字段: <code class="highlighter-rouge">备注</code>: VARCHAR 100</p>

<h3 id="club"><em>club</em>表</h3>
<hr />

<p><code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">club_id</code>字段: <code class="highlighter-rouge">俱乐部id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">club_name</code>字段: <code class="highlighter-rouge">俱乐部名称</code>: VARCHAR 100<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">img</code>字段: <code class="highlighter-rouge">俱乐部头像</code>: TEXT<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">rank</code>字段: <code class="highlighter-rouge">俱乐部等级</code>: VARCHAR 32<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">remark</code>字段: <code class="highlighter-rouge">备注</code>: VARCHAR 255</p>

<p><em>ps</em></p>

<blockquote>
  <p><code class="highlighter-rouge">0</code>:赛体育：后台管理员发布比赛</p>
</blockquote>

<h3 id="wiki"><em>wiki</em>表</h3>
<hr />

<p><code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">wiki_id</code>字段: <code class="highlighter-rouge">百科id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">wiki_name</code>字段: <code class="highlighter-rouge">百科名称</code>: VARCHAR 100<br />
<code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">video_id</code>字段: <code class="highlighter-rouge">视频id</code>: INT 32: <code class="highlighter-rouge">video</code>-&gt;<code class="highlighter-rouge">video_id</code><br />
<code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">用户id</code>: INT 32: <code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">type</code>字段: <code class="highlighter-rouge">百科分类</code>: TINYINT 2: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">标准动作</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">原创动作</code><br />
<code class="highlighter-rouge">wiki</code>: <code class="highlighter-rouge">remark</code>字段: <code class="highlighter-rouge">百科备注</code>: VARCHAR 255</p>

<h3 id="club-1"><em>club</em>表</h3>
<hr />

<p><code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">club_id</code>字段: <code class="highlighter-rouge">俱乐部id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">club_name</code>字段: <code class="highlighter-rouge">俱乐部名称</code>: VARCHAR 100<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">img</code>字段: <code class="highlighter-rouge">俱乐部头像</code>: TEXT<br />
<code class="highlighter-rouge">club</code>: <code class="highlighter-rouge">rank'字段: </code>俱乐部等级<code class="highlighter-rouge">: VARCHAR 32  
</code>club<code class="highlighter-rouge">: </code>remark’字段: <code class="highlighter-rouge">备注</code>: VARCHAR 255</p>

<p><strong><em>ps</em></strong></p>

<p><code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">赛体育</code></p>

<h3 id="joinclub"><em>join_club</em>表</h3>
<hr />

<p><code class="highlighter-rouge">join_club</code>: <code class="highlighter-rouge">join_id</code>字段: <code class="highlighter-rouge">参加俱乐部ＩＤ</code>: INT 32<br />
<code class="highlighter-rouge">join_club</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">用户ＩＤ</code>: INT 32: <code class="highlighter-rouge">user</code> -&gt; <code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">join_club</code>: <code class="highlighter-rouge">club_id</code>字段: <code class="highlighter-rouge">俱乐部ＩＤ</code>: INT 32: <code class="highlighter-rouge">club</code> -&gt; <code class="highlighter-rouge">club_id</code><br />
<code class="highlighter-rouge">join_club</code>: <code class="highlighter-rouge">remark</code>字段: <code class="highlighter-rouge">备注</code></p>

<h3 id="game"><em>game</em>表</h3>
<hr />

<p><code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">game_id</code>字段: <code class="highlighter-rouge">比赛id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">game_name</code>字段: <code class="highlighter-rouge">比赛名称</code>: VARCHAR 500<br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">game_img</code>字段: <code class="highlighter-rouge">比赛封面</code>: VARCHAR 100<br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">发布者id</code>: VARCHAR 32: <code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code>  <br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">type_id</code>字段: <code class="highlighter-rouge">比赛类型id</code>: VARCHAR 32: <code class="highlighter-rouge">game_type</code>-&gt;<code class="highlighter-rouge">type_id</code>  <br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">is_hot</code>字段: <code class="highlighter-rouge">是否热门</code>: TINYINT 2: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">否</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">是</code>  <br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">is_pub</code>字段: <code class="highlighter-rouge">是否发布</code>: TINYINT 2: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">否</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">是</code>  <br />
<code class="highlighter-rouge">game</code>: <code class="highlighter-rouge">game_desc</code>字段: <code class="highlighter-rouge">比赛简介</code>: VARCHAR 500</p>

<h3 id="gametype"><em>game_type</em>表</h3>
<hr />

<p><code class="highlighter-rouge">game_type</code>: <code class="highlighter-rouge">type_id</code>字段: <code class="highlighter-rouge">比赛类型id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">game_type</code>: <code class="highlighter-rouge">type_name</code>字段: <code class="highlighter-rouge">比赛类型名称</code>: VARCHAR 32</p>

<p><strong><em>ps</em></strong></p>

<blockquote>
  <p><code class="highlighter-rouge">0</code>: <code class="highlighter-rouge">羽毛球</code><br />
<code class="highlighter-rouge">1</code>: <code class="highlighter-rouge">兵乓球</code></p>
</blockquote>

<h3 id="gamevideo"><em>game_video</em>表</h3>
<hr />

<p><code class="highlighter-rouge">game_video</code>: <code class="highlighter-rouge">id</code>字段: <code class="highlighter-rouge">比赛视频id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">game_video</code>: <code class="highlighter-rouge">video_id</code>字段: <code class="highlighter-rouge">视频id</code>: VARCHAR 32: <code class="highlighter-rouge">video</code>-&gt;<code class="highlighter-rouge">id</code><br />
<code class="highlighter-rouge">game_video</code>: <code class="highlighter-rouge">game_id</code>字段: <code class="highlighter-rouge">比赛id</code>: VARCHAR 32: <code class="highlighter-rouge">game</code>-&gt;<code class="highlighter-rouge">game_id</code><br />
<code class="highlighter-rouge">game_video</code>: <code class="highlighter-rouge">video_type</code>字段: <code class="highlighter-rouge">比赛视频类型</code>: VARCHAR 32: <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">训练视频</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">参赛视频</code></p>

<h3 id="joinedgame"><em>joined_game</em>表</h3>
<hr />

<p><code class="highlighter-rouge">joined_game</code>: <code class="highlighter-rouge">joined_id</code>字段: <code class="highlighter-rouge">参赛id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">joined_game</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">参赛用户id</code>: VARCHAR 32: <code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code>  <br />
<code class="highlighter-rouge">joined_game</code>: <code class="highlighter-rouge">game_id</code>字段: <code class="highlighter-rouge">比赛id</code>: VARCHAR 32: <code class="highlighter-rouge">game</code>-&gt;<code class="highlighter-rouge">game_id</code>  <br />
<code class="highlighter-rouge">joined_game</code>: <code class="highlighter-rouge">remark</code>字段: <code class="highlighter-rouge">比赛备注</code>: VARCHAR 100</p>

<h3 id="searchrecord"><em>search_record</em>表</h3>
<hr />

<p><code class="highlighter-rouge">search_record</code>: <code class="highlighter-rouge">search_id</code>字段: <code class="highlighter-rouge">搜索id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">search_record</code>: <code class="highlighter-rouge">search_content</code>字段: <code class="highlighter-rouge">搜索内容</code>: VARCHAR 255<br />
<code class="highlighter-rouge">search_record</code>: <code class="highlighter-rouge">search_user</code>字段: <code class="highlighter-rouge">搜索用户</code>: VARCHAR 32: <code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code>: <code class="highlighter-rouge">-1</code>:<code class="highlighter-rouge">匿名用户</code><br />
<code class="highlighter-rouge">search_record</code>: <code class="highlighter-rouge">search_time</code>字段: <code class="highlighter-rouge">初次搜索时间</code>: VARCHAR 32</p>

<h3 id="comment"><em>comment</em>表</h3>
<hr />

<p><code class="highlighter-rouge">comment</code>: <code class="highlighter-rouge">comment_id</code>字段: <code class="highlighter-rouge">评论id</code>: INT 32,自增,主键<br />
<code class="highlighter-rouge">comment</code>: <code class="highlighter-rouge">user_id</code>字段: <code class="highlighter-rouge">评论用户id</code>: VARCHAR 32:<code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">comment</code>: <code class="highlighter-rouge">video_id</code>字段: <code class="highlighter-rouge">视频id</code>: VARCHAR 32:<code class="highlighter-rouge">video</code>-&gt;<code class="highlighter-rouge">id</code><br />
<code class="highlighter-rouge">comment</code>: <code class="highlighter-rouge">content</code>字段: <code class="highlighter-rouge">评论内容</code>: TEXT<br />
<code class="highlighter-rouge">comment</code>: <code class="highlighter-rouge">create_time</code>字段: <code class="highlighter-rouge">评论时间</code>: VARCHAR 32:UNIXTIMESTAMP</p>

<h3 id="admininfo"><em>admininfo</em>表</h3>
<hr />

<p><code class="highlighter-rouge">admininfo</code>: <code class="highlighter-rouge">admin_id</code>字段：<code class="highlighter-rouge">管理员id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">admininfo</code>: <code class="highlighter-rouge">admin_name</code>字段: <code class="highlighter-rouge">管理员名称</code>: VARCHAR 32<br />
<code class="highlighter-rouge">admininfo</code>: <code class="highlighter-rouge">admin_passwd</code>字段: <code class="highlighter-rouge">管理员密码</code>: VARCHAR 32<br />
<code class="highlighter-rouge">admininfo</code>: <code class="highlighter-rouge">admin_role_id</code>字段: <code class="highlighter-rouge">管理员角色</code>: VARCHAR 32：<code class="highlighter-rouge">role</code>:<code class="highlighter-rouge">role_id</code>
<code class="highlighter-rouge">admininfo</code>: <code class="highlighter-rouge">admin_club_id</code>字段: <code class="highlighter-rouge">管理员俱乐部ｉｄ</code>: INT 32:<code class="highlighter-rouge">club</code>-&gt;<code class="highlighter-rouge">club_id</code></p>

<p><em>ps</em></p>

<blockquote>
  <p>后台超级管理员<code class="highlighter-rouge">admin_club_id</code>:<code class="highlighter-rouge">0</code></p>
</blockquote>

<h3 id="ad"><em>ad</em>表</h3>
<hr />

<p><code class="highlighter-rouge">ad</code>: <code class="highlighter-rouge">ad_id</code>字段：<code class="highlighter-rouge">广告id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">ad</code>: <code class="highlighter-rouge">ad_title</code>字段：<code class="highlighter-rouge">广告标题</code>： VARCHAR 100<br />
<code class="highlighter-rouge">ad</code>: <code class="highlighter-rouge">ad_content</code>字段：<code class="highlighter-rouge">广告内容</code>： TEXT<br />
<code class="highlighter-rouge">ad</code>: <code class="highlighter-rouge">adverr_id</code>字段：<code class="highlighter-rouge">广告商id</code>： INT 32:<code class="highlighter-rouge">advertiser</code>:<code class="highlighter-rouge">adver_id</code></p>

<h3 id="advertiser"><em>advertiser</em>表</h3>
<hr />
<p>l
<code class="highlighter-rouge">advertiser</code>: <code class="highlighter-rouge">adver_id</code>字段：<code class="highlighter-rouge">广告商id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">advertiser</code>: <code class="highlighter-rouge">adver_name</code>字段：<code class="highlighter-rouge">广告商名称</code>： VARCHAR 100</p>

<h3 id="renzheng"><em>renzheng</em>表</h3>
<hr />

<p><code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">id</code>字段：<code class="highlighter-rouge">认证id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">user_id</code>字段：<code class="highlighter-rouge">申请用户id</code>： VARCHAR 100  :<code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">img</code>字段：<code class="highlighter-rouge">资质照片</code>： VARCHAR 100<br />
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">role_id</code>字段：<code class="highlighter-rouge">申请身份id</code>： VARCHAR 100 :<code class="highlighter-rouge">role</code>-&gt;<code class="highlighter-rouge">role_id</code><br />
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">info</code>字段：<code class="highlighter-rouge">申请理由</code>： VARCHAR 100<br />
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">add_time</code>字段：<code class="highlighter-rouge">时间戳</code>
<code class="highlighter-rouge">renzheng</code>: <code class="highlighter-rouge">status</code>字段：<code class="highlighter-rouge">审核状态</code>:<code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">申请</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">通过</code>,<code class="highlighter-rouge">2</code>:<code class="highlighter-rouge">拒绝</code></p>

<h3 id="report"><em>report</em>表</h3>
<hr />

<p><code class="highlighter-rouge">report</code>: <code class="highlighter-rouge">id</code>字段：<code class="highlighter-rouge">举报id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">report</code>: <code class="highlighter-rouge">video_id</code>字段：<code class="highlighter-rouge">视频id</code>： VARCHAR 100  :<code class="highlighter-rouge">video</code>-&gt;<code class="highlighter-rouge">id</code><br />
<code class="highlighter-rouge">report</code>: <code class="highlighter-rouge">add_time</code>字段：<code class="highlighter-rouge">举报时间</code>： UNIX_TIMESTAMP<br />
<code class="highlighter-rouge">report</code>: <code class="highlighter-rouge">status</code>字段：<code class="highlighter-rouge">举报状态</code>： <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">未处理</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">已处理</code></p>

<h3 id="feedback"><em>feedback</em>表</h3>
<hr />

<p><code class="highlighter-rouge">feedback</code>: <code class="highlighter-rouge">feedback_id</code>字段：<code class="highlighter-rouge">反馈id</code>： INT 32, 自增，主键<br />
<code class="highlighter-rouge">feedback</code>: <code class="highlighter-rouge">user_id</code>字段：<code class="highlighter-rouge">反馈用户id</code>： VARCHAR 100  :<code class="highlighter-rouge">user</code>-&gt;<code class="highlighter-rouge">user_id</code><br />
<code class="highlighter-rouge">feedback</code>: <code class="highlighter-rouge">content</code>字段：<code class="highlighter-rouge">反馈内容</code>： VARCHAR 100  <br />
<code class="highlighter-rouge">feedback</code>: <code class="highlighter-rouge">add_time</code>字段：<code class="highlighter-rouge">反馈时间</code>： UNIX_TIMESTAMP  <br />
<code class="highlighter-rouge">feedback</code>: <code class="highlighter-rouge">status</code>字段：<code class="highlighter-rouge">反馈状态</code>： <code class="highlighter-rouge">0</code>:<code class="highlighter-rouge">反馈</code>,<code class="highlighter-rouge">1</code>:<code class="highlighter-rouge">已阅</code></p>

<p>时间戳数据库处理</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/* mysql:当前时间戳 */
SELECT UNIX_TIMESTAMP(NOW());

/* 添加按照付款时间每日分组 */
$group = " GROUP BY FROM_UNIXTIME(oi.pay_time,'%y-%m-%d')";

/* 查询距添加代理用户第几天 */
$sql = "SELECT TO_DAYS(FROM_UNIXTIME(oi.pay_time)) - TO_DAYS(FROM_UNIXTIME(au.add_time)) AS day_num, ";

/* 查询每日订单数 */
$sql = $sql . " COUNT(oi.order_id) AS order_sum_day, ";

/* 查询每日产品数 */
$sql = $sql . " COUNT(og.goods_id) AS product_sum_day ";
</code></pre>
</div>

<h2 id="section-2">参考资料</h2>

<p>[1]<a href="http://www.3lian.com/edu/2013/07-08/79310.html">最好用的PHP数据库操作类-ezSQL</a></p>


    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/Terminator">Terminator</a></li>
        
            <li><a href="/Analyse-Trojan">记一次木马的分析</a></li>
        
            <li><a href="/Build-Github-Pages">使用 Github 搭建自己的博客</a></li>
        
            <li><a href="/My-Fisrt-Blog">我的第一篇 Blog</a></li>
        
        </ul>

        <h2>Opinion</h2>
        <ul class="artical-list">
        
            <li><a href="/Malcode-ngram-opcode">恶意代码分类数据篇</a></li>
        
            <li><a href="/Malware-Classification">恶意代码分类</a></li>
        
            <li><a href="/Database">数据库常见问题整理</a></li>
        
            <li><a href="/Github-PHP">Github Disclosure -- PHP</a></li>
        
            <li><a href="/Github-disclosure">Github Disclosure</a></li>
        
            <li><a href="/KCon-West">KCon West西部黑客大会</a></li>
        
            <li><a href="/Programming">Amazing Programming</a></li>
        
            <li><a href="/CDN-DDoS">基于CDN平台的DDoS攻击防护</a></li>
        
            <li><a href="/p7-bohara">Clustering Monitor Data</a></li>
        
            <li><a href="/Conferences">Coming Conferences and Activities</a></li>
        
            <li><a href="/English-Writing">English Writing</a></li>
        
            <li><a href="/Review-Survey">如何写一篇Survey的Review</a></li>
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/Reading">Reading 开发问题汇总</a></li>
        
            <li><a href="/Baby">Baby 开发问题汇总</a></li>
        
            <li><a href="/Sports">Sports 开发问题汇总</a></li>
        
            <li><a href="/Ecshop-Problems">Ecshop 开发问题汇总</a></li>
        
            <li><a href="/Centos-Php">CentOs搭建Php开发环境</a></li>
        
            <li><a href="/Nodejs-P2pspider">p2pspider(读写文件和Mongodb版)</a></li>
        
            <li><a href="/CentOs-aria2">CentOs 安装多线程下载工具</a></li>
        
            <li><a href="/Wabacus-Problems">Wabacus 开发问题汇总</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>
<!-- <a id="scrollTop" href="javascript:scroll(0,0)">&#8657;</a> -->



    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-74981935-1', 'auto');
      ga('send', 'pageview');
    </script>

</body>
</html>
